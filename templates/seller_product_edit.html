
<title>Edit Product</title>

<form method="post"
      action="/seller/products/editfn/{{product.id}}"
      enctype="multipart/form-data">

    <fieldset>
        <legend>Basic Product Information</legend>

        <label>
            Product Title<br>
            <input type="text" name="title" value="{{product.title}}" required>
        </label><br><br>

        <label>
            Description<br>
            <textarea name="description" rows="4" required>{{ product.description }}</textarea>
        </label><br><br>

        <label>
            Category<br>
            <input type="text" name="category" value="{{product.category}}" required>
        </label><br><br>

        <label>
            SKU<br>
            <input type="text" name="sku" value="{{product.sku}}" required>
        </label>
    </fieldset>

    <br>

    <fieldset>
        <legend>Pricing & Availability</legend>

        <label>
            Price<br>
            <input type="number" name="price" step="0.01" value="{{product.price}}" required>
        </label><br><br>

        <label>
            Discount Percentage<br>
            <input type="number" name="discountPercentage" step="0.01"
       value="{{ product.discountPercentage }}">

        </label><br><br>

        <label>
            Stock Quantity<br>
            <input type="number" name="stock" min="0" value="{{product.stock}}" required>
        </label><br><br>

        <label>
            Availability Status<br>
            <select name="availabilityStatus">
                <option value="In Stock"
                    {% if product.availabilityStatus == "In Stock" %}selected{% endif %}>
                    In Stock
                </option>
                <option value="Low Stock"
                    {% if product.availabilityStatus == "Low Stock" %}selected{% endif %}>
                    Low Stock
                </option>
                <option value="Out of Stock"
                    {% if product.availabilityStatus == "Out of Stock" %}selected{% endif %}>
                    Out of Stock
                </option>
            </select>

        </label><br><br>

        <label>
            Return Policy<br>
            <input type="text" name="returnPolicy" value="{{product.returnPolicy}}">
        </label>
    </fieldset>

    <br>

    <fieldset>
        <legend>Physical Details (Optional)</legend>

        <label>
            Weight (grams)<br>
            <input type="number" name="weight"
       value="{{ product.weight if product.weight is not none }}">
        </label><br><br>

        <label>
            Dimensions (cm)<br>
            Length <input type="number" name="length" step="0.1"
                value="{{ product.dimensions.depth if product.dimensions }}">
            Width <input type="number" name="width" step="0.1"
                value="{{ product.dimensions.width if product.dimensions }}">
            Height <input type="number" name="height" step="0.1"
                value="{{ product.dimensions.height if product.dimensions }}">
        </label><br><br>

        <label>
            Shipping Information<br>
            <input type="text" name="shippingInformation" value="{{ product.shippingInformation if product.shippingInformation is not none}}">
        </label><br><br>

        <label>
            Warranty Information<br>
            <input type="text" name="warrantyInformation" value="{{ product.warrantyInformation if product.warrantyInformation is not none }}">

        </label>
    </fieldset>

    <br>

    <fieldset>
        <legend>Upload Product Images</legend>

        <label>
            Thumbnail 
            <input type="file" name="thumbnail" accept="image/*">
        </label><br><br>

        <label>
            Images 
            <input type="file" name="images" accept="image/*" multiple>
        </label><br><br>
    </fieldset>

    <br>

    <button type="submit" id="submit-btn">
        Update Product
    </button>
    <span id="wait-text" style="display:none;">
        Please wait, uploading imagesâ€¦
    </span>
</form>


<script>
document.querySelector("form").addEventListener("submit", function () {
    const btn = document.getElementById("submit-btn");
    const waitText = document.getElementById("wait-text");

    btn.disabled = true;
    
    btn.innerText = "Please wait...";

    waitText.style.display = "inline";
});
</script>

